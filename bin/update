#!/bin/bash

set -e

trap 'echo ""; echo -e "\033[0;31mSomething went wrong during the update!\n\nPlease review the output above carefully, correct the error, and retry the update.\033[0m"' ERR

if [[ $1 == "-y" ]] || update-confirm; then
  update-without-idle
  # Snapshot functionality removed - configure snapshots manually if needed
  update-git
  update-perform
fi
