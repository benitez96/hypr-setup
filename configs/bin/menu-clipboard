#!/usr/bin/env bash

choice="$(printf '%s\n' \
  'Pick from history' \
  'Clear history' \
  | wofi --show dmenu --prompt 'Clipboard: ')"

case "$choice" in
  'Pick from history')
    sel="$(cliphist list | wofi --show dmenu --prompt 'Clipboard history: ')"
    [ -n "$sel" ] && echo "$sel" | cliphist decode | wl-copy
    ;;
  'Clear history')
    cliphist wipe
    ;;
  *)
    exit 0
    ;;
esac
